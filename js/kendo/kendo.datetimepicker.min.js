/*
* Kendo UI Complete v2013.3.1324 (http://kendoui.com)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
!function(define){return define(["./kendo.datepicker.min.js","./kendo.timepicker.min.js"],function(){!function(e,t){function a(e){var t=new Date(2100,0,1);return t.setMinutes(-e),t}function n(e){e.preventDefault()}function i(t){var a,n=r.getCulture(t.culture).calendars.standard.patterns;t.format=u(t.format||n.g),t.timeFormat=a=u(t.timeFormat||n.t),r.DateView.normalize(t),-1===e.inArray(a,t.parseFormats)&&t.parseFormats.splice(1,0,a)}var r=window.kendo,o=r.TimeView,l=r.parseDate,s=r._activeElement,u=r._extractFormat,d=r.calendar,m=d.isInRange,c=d.restrictValue,p=d.isEqualDatePart,f=o.getMilliseconds,v=r.ui,_=v.Widget,w="open",g="close",h="change",k=".kendoDateTimePicker",x="click"+k,V="disabled",y="readonly",b="k-state-default",A="k-state-focused",T="k-state-hover",D="k-state-disabled",I="mouseenter"+k+" mouseleave"+k,C="mousedown"+k,F="month",R="<span/>",W="aria-activedescendant",S="aria-expanded",H="aria-hidden",O="aria-owns",E="aria-disabled",q="aria-readonly",B=Date,M=new B(1900,0,1),N=new B(2099,11,31),P={view:"date"},j={view:"time"},Y=e.extend,z=_.extend({init:function(e,t){var a,n=this;_.fn.init.call(n,e,t),e=n.element,t=n.options,i(t),n._wrapper(),n._views(),n._icons(),n._reset(),n._template();try{e[0].setAttribute("type","text")}catch(o){e[0].type="text"}e.addClass("k-input").attr({role:"combobox","aria-expanded":!1}),n._midnight=0===f(t.min)+f(t.max),a=e.is("[disabled]"),a?n.enable(!1):n.readonly(e.is("[readonly]")),n._old=n._update(t.value||n.element.val()),n._oldText=e.val(),r.notify(n)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new B(M),max:new B(N),interval:30,height:200,footer:"",start:F,depth:F,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[w,g,h],setOptions:function(e){var t,a,n,o=this,l=o._value;o.dateView.options,o.timeView.options,_.fn.setOptions.call(o,e),e=o.options,i(e),t=e.min,a=e.max,n=e.value||o._value||o.dateView._current,t&&!p(t,n)&&(t=new B(M)),a&&!p(a,n)&&(a=new B(N)),o.dateView.setOptions(e),o.timeView.setOptions(Y({},e,{format:e.timeFormat,min:t,max:a})),l&&(o.element.val(r.toString(l,e.format,e.culture)),o._updateARIA(l))},_editable:function(t){var a=this,i=a.element.off(k),o=a._dateIcon.off(k),l=a._timeIcon.off(k),u=a._inputWrapper.off(k),d=t.readonly,m=t.disable;d||m?(u.addClass(m?D:b).removeClass(m?b:D),i.attr(V,m).attr(y,d).attr(E,m).attr(q,d)):(u.addClass(b).removeClass(D).on(I,a._toggleHover),i.removeAttr(V).removeAttr(y).attr(E,!1).attr(q,!1).on("keydown"+k,e.proxy(a._keydown,a)).on("focus"+k,function(){a._inputWrapper.addClass(A)}).on("blur"+k,function(){a._inputWrapper.removeClass(A),i.val()!==a._oldText&&a._change(i.val()),a.close("date"),a.close("time")}),o.on(C,n).on(x,function(){a.toggle("date"),r.support.touch||i[0]===s()||i.focus()}),l.on(C,n).on(x,function(){a.toggle("time"),r.support.touch||i[0]===s()||i.focus()}))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;_.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(k),e._dateIcon.off(k),e._timeIcon.off(k),e._inputWrapper.off(k),e._form&&e._form.off("reset",e._resetHandler)},close:function(e){"time"!==e&&(e="date"),this[e+"View"].close()},open:function(e){"time"!==e&&(e="date"),this[e+"View"].open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(e){var t="timeView";"time"!==e?e="date":t="dateView",this[e+"View"].toggle(),this[t].close()},value:function(e){var a=this;return e===t?a._value:(a._old=a._update(e),null===a._old&&a.element.val(""),a._oldText=a.element.val(),t)},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(h),t.element.trigger(h))},_option:function(e,n){var i,r,o=this,s=o.options,u=o.timeView,d=u.options,m=o._value||o._old;if(n===t)return s[e];if(n=l(n,s.parseFormats,s.culture)){if(s.min.getTime()===s.max.getTime()&&(d.dates=[]),s[e]=new B(n.getTime()),o.dateView[e](n),o._midnight=0===f(s.min)+f(s.max),m&&(i=p(s.min,m),r=p(s.max,m)),i||r){if(d[e]=n,i&&!r&&(d.max=a(s.interval)),r){if(o._midnight)return u.dataBind([N]),t;i||(d.min=M)}}else d.max=N,d.min=M;u.bind()}},_toggleHover:function(t){e(t.currentTarget).toggleClass(T,"mouseenter"===t.type)},_update:function(t){var n,i,o,s,u,d=this,f=d.options,v=f.min,_=f.max,w=f.dates,g=d.timeView,h=l(t,f.parseFormats,f.culture);return+h===+d._value?(u=r.toString(h,f.format,f.culture),u!==t&&d.element.val(null===h?t:u),h):(null!==h&&p(h,v)?h=c(h,v,_):m(h,v,_)||(h=null),d._value=h,g.value(h),d.dateView.value(h),h&&(o=d._old,i=g.options,w[0]&&(w=e.grep(w,function(e){return p(h,e)}),w[0]&&(g.dataBind(w),s=!0)),s||(p(h,v)&&(i.min=v,i.max=a(f.interval),n=!0),p(h,_)&&(d._midnight?(g.dataBind([N]),s=!0):(i.max=_,n||(i.min=M),n=!0))),!s&&(!o&&n||o&&!p(o,h))&&(n||(i.max=N,i.min=M),g.bind())),d.element.val(h?r.toString(h,f.format,f.culture):t),d._updateARIA(h),h)},_keydown:function(e){var t=this,a=t.dateView,n=t.timeView,i=t.element.val(),o=a.popup.visible();e.altKey&&e.keyCode===r.keys.DOWN?t.toggle(o?"time":"date"):o?(a.move(e),t._updateARIA(a._current)):n.popup.visible()?n.move(e):e.keyCode===r.keys.ENTER&&i!==t._oldText&&t._change(i)},_views:function(){var e,t,a,n,i,s,u=this,d=u.element,c=u.options,p=d.attr("id");u.dateView=e=new r.DateView(Y({},c,{id:p,anchor:u.wrapper,change:function(){var t,a=e.calendar.value(),n=+a,i=+c.min,r=+c.max;(n===i||n===r)&&(t=new B(+u._value),t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),m(t,i,r)&&(a=t)),u._change(a),u.close("date")},close:function(e){u.trigger(g,P)?e.preventDefault():(d.attr(S,!1),a.attr(H,!0),t.popup.visible()||d.removeAttr(O))},open:function(t){u.trigger(w,P)?t.preventDefault():(u.element.val()!==u._oldText&&(s=l(d.val(),c.parseFormats,c.culture),u.dateView[s?"current":"value"](s)),a.attr(H,!1),d.attr(S,!0).attr(O,e._dateViewID),u._updateARIA(s))}})),a=e.div,i=c.min.getTime(),u.timeView=t=new o({id:p,value:c.value,anchor:u.wrapper,animation:c.animation,format:c.timeFormat,culture:c.culture,height:c.height,interval:c.interval,min:new B(M),max:new B(N),dates:i===c.max.getTime()?[new Date(i)]:[],parseFormats:c.parseFormats,change:function(a,n){a=t._parse(a),a<c.min?(a=new B(+c.min),t.options.min=a):a>c.max&&(a=new B(+c.max),t.options.max=a),n?(u._timeSelected=!0,u._change(a)):(d.val(r.toString(a,c.format,c.culture)),e.value(a),u._updateARIA(a))},close:function(t){u.trigger(g,j)?t.preventDefault():(n.attr(H,!0),d.attr(S,!1),e.popup.visible()||d.removeAttr(O))},open:function(e){t._adjustListWidth(),u.trigger(w,j)?e.preventDefault():(n.attr(H,!1),d.attr(S,!0).attr(O,t._timeViewID),t.options.active(t.current()))},active:function(e){d.removeAttr(W),e&&d.attr(W,t._optionID)}}),n=t.ul},_icons:function(){var t,a=this,n=a.element;t=n.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(n)),t=t.children(),a._dateIcon=t.eq(0).attr({role:"button","aria-controls":a.dateView._dateViewID}),a._timeIcon=t.eq(1).attr({role:"button","aria-controls":a.timeView._timeViewID})},_wrapper:function(){var t,a=this,n=a.element;t=n.parents(".k-datetimepicker"),t[0]||(t=n.wrap(R).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(R).parent()),t[0].style.cssText=n[0].style.cssText,n.css({width:"100%",height:n[0].style.height}),a.wrapper=t.addClass("k-widget k-datetimepicker k-header").addClass(n[0].className),a._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,a=t.element,n=a.attr("form"),i=n?e("#"+n):a.closest("form");i[0]&&(t._resetHandler=function(){t.value(a[0].defaultValue)},t._form=i.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=r.template(this.options.ARIATemplate)},_updateARIA:function(e){var t,a=this,n=a.dateView.calendar;a.element.removeAttr(W),n&&(t=n._cell,t.attr("aria-label",a._ariaTemplate({current:e||n.current()})),a.element.attr(W,t.attr("id")))}});v.plugin(z)}(window.kendo.jQuery)})}("function"==typeof define&&define.amd?define:function(e,t){return t()});/*
//@ sourceMappingURL=kendo.datetimepicker.min.js.map
*/